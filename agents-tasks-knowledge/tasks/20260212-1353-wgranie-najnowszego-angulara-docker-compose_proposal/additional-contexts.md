# 20260212-1353-wgranie-najnowszego-angulara-docker-compose_proposal - kontekst zadania

> Po skopiowaniu do `tasks/20260212-1353-wgranie-najnowszego-angulara-docker-compose_proposal/` zmień tytuł (bez słowa „template”), uzupełnij sekcje i usuń podpowiedzi w kursywie, gdy nie są już potrzebne.

## 0. Karta zadania (wypełnij zawsze)
- Cel w 1 zdaniu: ...
- Poziom specyfikacji: S / M / L
- Typ zadania (zaznacz):
    - [ ] Backend/API
    - [ ] UI/UX
    - [ ] DB/migracje
    - [ ] Integracje
    - [ ] Refactor/tech-debt
- Dotknięte systemy/moduły: ...
- Właściciel decyzji biznesowych: ...
- Właściciel decyzji technicznych: ...
- Linki: ticket / slack / figma / docs: ...

## 1. Surowe dane / materiały wejściowe
_Tu wklej surowe materiały: ticket, opis rozmowy, logi, zrzuty. Niczego nie porządkuj._

- Ustalenie: właściwy projekt ma być w katalogu `ut-angular/`.
- Root (`/home/primo/projects/ut-angular-workspace`) traktujemy jako workspace/monorepo root.
- Git jest wspólny dla całości (jeden repo na root), nie osobny w `ut-angular/`.

## 2. Dlaczego robimy to zadanie? (problem / potrzeba)
_Krótkie streszczenie (2-5 zdań) - co boli i czemu teraz?_

## 3. Efekt dla użytkownika / biznesu (wypełnij zawsze)
### 3.1 Użytkownicy / role
- ...

### 3.2 Scenariusze (Given/When/Then) — minimum 2
- G1: Given ..., When ..., Then ...
- G2: Given ..., When ..., Then ...

### 3.3 Zasady biznesowe (jeśli są)
- ...

### 3.4 Dane i wynik (najlepiej przykładami)
- Wejście: ...
- Wynik: ...
- Przykład (opcjonalnie):
    - input: `{ ... }`
    - output: `{ ... }`

### 3.5 Kryteria akceptacji (biznesowe) — checklista
- [ ] ...
- [ ] ...
- [ ] Jeśli task dotyka UI/przeglądarki, testy manualne są planowane przez `agent-browser` (procedura startuje od `agent-browser connect 9222`).
- [ ] Jeśli task dotyka UI/przeglądarki, `additional-contexts.md` zawiera skrót danych kont testowych (`ATK_BROWSER_BASE_URL`, `ATK_BROWSER_TEST_USER`, `ATK_BROWSER_TEST_PASS`) oraz referencję do `/.env.test-accounts`.

## 4. Referencje i wzorce (żeby agent nie zgadywał)
### 4.1 Bliźniacze taski / PR / commity (1–3)
- ...
### 4.2 Co kopiujemy ze wzorca
- [ ] flow/architektura
- [ ] kontrakt API / event
- [ ] walidacje
- [ ] testy
- [ ] migracje
- [ ] podobieństwa funkcjonalne np. akcja użytkownika, umiejscowienie, wygląd, itp.
### 4.3 Pułapki / “gotchas”
- ...

## 5. Zakres i ograniczenia (wypełnij zawsze)
### 5.1 Zakres in/out
- **W zakresie**: ...
- **Poza zakresem**: ...

### 5.2 Ograniczenia i zależności
- Termin/release: ...
- Technologiczne/architektoniczne: ...
- Zależności (inne zespoły/systemy): ...

### 5.3 Założenia i ryzyka (krótko, jeśli są)
- Założenia: ...
- Ryzyka: ...

## 6. Otwarte pytania (blokery + decyzje)
> Zasada: każde pytanie ma właściciela i “deadline decyzji”.
- [ ] **P1:** ... | owner: ... | decyzja do: ...
- [ ] **P2:** ... | owner: ... | decyzja do: ...

## 7. Ustalenia z rozmów (log decyzji)
- RRRR-MM-DD: decyzja / ustalenie / link ...

## 8. Brief do planu technicznego (`tasks.md`) — 8–15 linijek max
- Backend/API: ...
- UI: ...
- Dane/migracje: ...
- Testy: ...
- Ryzyka/rollout: ...

---

# MODUŁY (wypełnij TYLKO te, które dotyczą zadania)

## MODUŁ API (jeśli dotykasz API)
- Endpointy:
    - `METHOD /path` — opis
- Autoryzacja/uprawnienia: ...
- Request/Response (przykłady JSON):
    - request: `{ ... }`
    - response: `{ ... }`
- Walidacje (lista reguł): ...
- Błędy (kody + kiedy): ...
- Idempotency/retry (jeśli dotyczy): ...
- Kompatybilność wstecz: [ ] tak / [ ] nie — jak?

## MODUŁ UI/UX (jeśli dotykasz UI)
- Link do Figma / makiet: ...
- Stany ekranu:
    - [ ] loading
    - [ ] empty
    - [ ] error
    - [ ] success
- Copy/teksty użytkownika (jeśli ważne): ...
- Uprawnienia/widoczność: ...
- Analityka/zdarzenia (jeśli macie): ...
- Dane kont testowych (dla UI/przeglądarki):
    - env_file: `/.env.test-accounts`
    - base_url_var: `ATK_BROWSER_BASE_URL`
    - user_var: `ATK_BROWSER_TEST_USER`
    - pass_var: `ATK_BROWSER_TEST_PASS`

## MODUŁ DB / MIGRACJE (jeśli dotykasz danych)
- Zmiany schematu: ...
- Migracja:
    - [ ] forward-only
    - [ ] wymaga backfill
    - [ ] wymaga okna serwisowego
- Plan backfill: ...
- Wpływ na wydajność: ...
- Plan rollback: ...

## MODUŁ INTEGRACJE (jeśli są systemy zewnętrzne)
- Systemy: ...
- Kontrakty: ...
- Timeouts/retry/circuit breaker: ...
- Dane wrażliwe / PII: ...
- Sandbox/testy integracyjne: ...

## MODUŁ ROLLOUT / KOMPATYBILNOŚĆ (jeśli ryzykowne)
- Feature flag: [ ] tak / [ ] nie
- Etapy wdrożenia: ...
- Monitoring po wdrożeniu: ...
- Rollback (konkretnie): ...

## MODUŁ OBSERVABILITY (jeśli ma znaczenie)
- Logi: co logujemy + korelacja (request_id etc.)
- Metryki: ...
- Alerty: ...
- Dashboard: ...

---

## 9. Definition of Ready (agent może startować dopiero gdy)
- [ ] Jest cel w 1 zdaniu i zakres in/out
- [ ] Są min. 2 scenariusze Given/When/Then
- [ ] Są kryteria akceptacji (checkboxy)
- [ ] Otwarte pytania mają ownerów (albo “brak blokerów”)
- [ ] Jeśli API/UI/DB dotyczy — wypełniony odpowiedni moduł
- [ ] Jeśli task dotyka UI/przeglądarki — wpisany skrót kont testowych + referencja do `/.env.test-accounts`
- [ ] Jest choć 1 referencja/wzorzec albo wpis “brak, bo ...”

## 10. Definition of Done (żeby nie było niedomówień)
- [ ] Testy dodane/zmienione
- [ ] Migracje wykonane + bezpieczne (jeśli dotyczy)
- [ ] Komunikaty błędów i edge-case’y obsłużone
- [ ] Monitoring/logi uzupełnione (jeśli dotyczy)
- [ ] Kryteria akceptacji spełnione i odhaczone
- [ ] Audyty końcowe (2 subagenci + Claude + Gemini) bez zastrzeżeń; raporty w `additional-notes/<YYYYMMDD-HHMM>-final-audit-*.md`
- [ ] Jeśli task dotyka UI/przeglądarki, wykonane i opisane testy manualne `agent-browser` (start od `agent-browser connect 9222`) z użyciem danych z `/.env.test-accounts`
